/*! Copyright 2025 Adobe
All Rights Reserved. */
import{FetchGraphQL as l}from"@dropins/tools/fetch-graphql.js";import{s as o}from"./state.js";import"@dropins/tools/event-bus.js";const{setEndpoint:u,setFetchGraphQlHeader:g,removeFetchGraphQlHeader:i,setFetchGraphQlHeaders:m,fetchGraphQl:f,getConfig:C}=new l().getMethods(),F=a=>{const c=a.findIndex(({extensions:r})=>(r==null?void 0:r.category)==="graphql-authorization")>-1,s=a.findIndex(({path:r,extensions:t})=>(t==null?void 0:t.category)==="graphql-no-such-entity"&&!(r!=null&&r.includes("applyCouponsToCart")))>-1,e=a.map(r=>r.message).join(" ");if(c||s)return h(),console.error(e),null;throw Error(e)},h=()=>(o.cartId=null,o.authenticated=!1,Promise.resolve(null));export{g as a,m as b,h as c,f,C as g,F as h,i as r,u as s};
