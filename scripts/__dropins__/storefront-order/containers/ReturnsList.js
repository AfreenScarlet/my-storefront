/*! Copyright 2024 Adobe
All Rights Reserved. */
import{jsx as L}from"@dropins/tools/preact-jsx-runtime.js";import{classes as S}from"@dropins/tools/lib.js";import"@dropins/tools/components.js";import{useState as s,useEffect as $,useCallback as y}from"@dropins/tools/preact-hooks.js";import"../chunks/ShippingStatusCard.js";import"@dropins/tools/preact-compat.js";import"@dropins/tools/preact.js";import"@dropins/tools/event-bus.js";import{g as M}from"../chunks/getCustomerOrdersReturn.js";import{g as A}from"../chunks/getStoreConfig.js";import{u as C}from"../chunks/useIsMobile.js";import{R as T}from"../chunks/ReturnsListContent.js";import{useText as V}from"@dropins/tools/i18n.js";import"../chunks/network-error.js";import"../chunks/fetch-graphql.js";import"@dropins/tools/fetch-graphql.js";import"../chunks/transform-customer-orders-returns.js";import"../chunks/convertCase.js";import"../chunks/returnOrdersHelper.js";import"../chunks/getFormValues.js";import"../chunks/OrderLoaders.js";const R={totalPages:1,currentPage:1,pageSize:1},k=({returnPageSize:i})=>{const[n,a]=s(!0),[o,u]=s([]),[m,l]=s(""),[d,c]=s(R),[g,f]=s(1);$(()=>{M(i).then(async e=>{const t=await A();l((t==null?void 0:t.baseMediaUrl)??""),u((e==null?void 0:e.ordersReturn)??[]),c((e==null?void 0:e.pageInfo)??R)}).finally(()=>{a(!1)})},[i]);const p=y(e=>{f(e)},[]);return{placeholderImage:m,pageInfo:d,selectedPage:g,loading:n,orderReturns:o,handleSetSelectPage:p}},re=({slots:i,withReturnsListButton:n,className:a,minifiedView:o,withHeader:u,withThumbnails:m,returnPageSize:l,returnsInMinifiedView:d,routeReturnDetails:c,routeOrderDetails:g,routeTracking:f,routeReturnsList:p,routeProductDetails:e})=>{const{pageInfo:t,selectedPage:O,handleSetSelectPage:b,loading:h,orderReturns:w,placeholderImage:I}=k({returnPageSize:l}),P=C(),r=o?"minifiedView":"fullSizeView",N=V({viewAllOrdersButton:`Order.Returns.${r}.returnsList.viewAllOrdersButton`,ariaLabelLink:`Order.Returns.${r}.returnsList.ariaLabelLink`,emptyOrdersListMessage:`Order.Returns.${r}.returnsList.emptyOrdersListMessage`,minifiedViewTitle:`Order.Returns.${r}.returnsList.minifiedViewTitle`,orderNumber:`Order.Returns.${r}.returnsList.orderNumber`,returnNumber:`Order.Returns.${r}.returnsList.returnNumber`,carrier:`Order.Returns.${r}.returnsList.carrier`});return L("div",{className:S(["order-returns-list",a]),children:L(T,{placeholderImage:I,minifiedViewKey:r,withOrderNumber:!0,withReturnNumber:!0,slots:i,selectedPage:O,handleSetSelectPage:b,pageInfo:t,withReturnsListButton:n,isMobile:P,orderReturns:w,translations:N,withHeader:u,returnsInMinifiedView:d,withThumbnails:m,minifiedView:o,routeReturnDetails:c,routeOrderDetails:g,routeTracking:f,routeReturnsList:p,routeProductDetails:e,loading:h})})};export{re as default};
