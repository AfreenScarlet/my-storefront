/*! Copyright 2024 Adobe
All Rights Reserved. */
import{jsx as p}from"@dropins/tools/preact-jsx-runtime.js";import{classes as I}from"@dropins/tools/lib.js";import"@dropins/tools/components.js";import{useState as o,useEffect as $,useCallback as M}from"@dropins/tools/preact-hooks.js";import"../chunks/ShippingStatusCard.js";import"@dropins/tools/preact-compat.js";import{u as y}from"../chunks/useGetStoreConfig.js";import"@dropins/tools/preact.js";import"@dropins/tools/event-bus.js";import{g as A}from"../chunks/getCustomerOrdersReturn.js";import{u as T}from"../chunks/useIsMobile.js";import{R as V}from"../chunks/ReturnsListContent.js";import{useText as k}from"@dropins/tools/i18n.js";import"../chunks/getStoreConfig.js";import"../chunks/fetch-graphql.js";import"@dropins/tools/fetch-graphql.js";import"../chunks/network-error.js";import"../chunks/transform-customer-orders-returns.js";import"../chunks/convertCase.js";import"../chunks/returnOrdersHelper.js";import"../chunks/getFormValues.js";import"../chunks/OrderLoaders.js";const g={totalPages:1,currentPage:1,pageSize:1},v=({returnPageSize:i})=>{const[n,u]=o(!0),[s,a]=o([]),[m,d]=o(g),[t,l]=o(1);$(()=>{A(i,t).then(r=>{a((r==null?void 0:r.ordersReturn)??[]),d((r==null?void 0:r.pageInfo)??g)}).finally(()=>{u(!1)})},[i,t]);const c=M(r=>{l(r)},[]);return{pageInfo:m,selectedPage:t,loading:n,orderReturns:s,handleSetSelectPage:c}},tr=({slots:i,withReturnsListButton:n,className:u,minifiedView:s,withHeader:a,withThumbnails:m,returnPageSize:d,returnsInMinifiedView:t,routeReturnDetails:l,routeOrderDetails:c,routeTracking:r,routeReturnsList:L,routeProductDetails:R})=>{const f=y(),{pageInfo:O,selectedPage:b,handleSetSelectPage:w,loading:N,orderReturns:P}=v({returnPageSize:d}),S=T(),e=s?"minifiedView":"fullSizeView",h=k({viewAllOrdersButton:`Order.Returns.${e}.returnsList.viewAllOrdersButton`,ariaLabelLink:`Order.Returns.${e}.returnsList.ariaLabelLink`,emptyOrdersListMessage:`Order.Returns.${e}.returnsList.emptyOrdersListMessage`,minifiedViewTitle:`Order.Returns.${e}.returnsList.minifiedViewTitle`,orderNumber:`Order.Returns.${e}.returnsList.orderNumber`,returnNumber:`Order.Returns.${e}.returnsList.returnNumber`,carrier:`Order.Returns.${e}.returnsList.carrier`});return p("div",{className:I(["order-returns-list",u]),children:p(V,{placeholderImage:(f==null?void 0:f.baseMediaUrl)??"",minifiedViewKey:e,withOrderNumber:!0,withReturnNumber:!0,slots:i,selectedPage:b,handleSetSelectPage:w,pageInfo:O,withReturnsListButton:n,isMobile:S,orderReturns:P,translations:h,withHeader:a,returnsInMinifiedView:t,withThumbnails:m,minifiedView:s,routeReturnDetails:l,routeOrderDetails:c,routeTracking:r,routeReturnsList:L,routeProductDetails:R,loading:N})})};export{tr as default};
